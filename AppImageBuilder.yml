version: 1
script:
- mkdir -p AppDir/usr/share/icons
- mkdir -p AppDir/usr/bin
- wget https://github.com/AppImageCrafters/appimage-builder/raw/refs/heads/main/resources/application-vnd.appimage.svg
- cp application-vnd.appimage.svg $GITHUB_WORKSPACE/AppDir/usr/share/icons/
- which mksquashfs || apt install squashfs-tools
- cp $GITHUB_WORKSPACE/goestuner AppDir/usr/bin
AppDir:
  path: AppDir
  app_info:
    id: goestuner
    name: GOESTuner
    version: latest
    exec: usr/bin/goestuner
    exec_args: $@
  apt:
    arch: amd64
    sources:
    - sourceline: deb http://archive.ubuntu.com/ubuntu/ bionic main restricted universe multiverse
      key_url: 'http://keyserver.ubuntu.com/pks/lookup?op=get&search=0x3b4fe6acc0b21f32'
    - sourceline: deb http://archive.ubuntu.com/ubuntu/ bionic-updates main restricted universe multiverse
    - sourceline: deb http://archive.ubuntu.com/ubuntu/ bionic-backports main restricted universe multiverse
    - sourceline: deb http://archive.ubuntu.com/ubuntu/ bionic-security main restricted universe multiverse
    include:
    - libsoapysdr-dev 
    - soapysdr-module-all
  runtime:
    path_mappings:
    - $APPDIR/usr/lib/:/usr/lib
AppImage:
  arch: x86_64
  sign-key: None
